# Maintainer: Yijun Yu <y.yu@open.ac.uk>
pkgname=fast
pkgver=0.0.8
pkgrel=0
pkgdesc="Flat Abstract Syntax Tree"
url="https://github.com/f-ast/fast"
arch="all"
license="BSD"
depends="srcml srcSlice protobuf flatbuffers antlr4 openjdk8 coreutils libgit2"
depends_dev="srcml-dev srcSlice-dev protobuf flatbuffers-dev antlr4-dev sqlite-dev libgit2-dev"
install=""
source="fast-$pkgver.tar.bz2::https://yijunyu.github.io/archive/fast/v$pkgver.tar.bz2"
builddir="$srcdir"
options="!check !fhs"
build() {
	mkdir -p "$builddir/x86_64"
        cd "$builddir/x86_64"
	ln -s ../Makefile .
	ln -s ../src/setup.py .
        make
}

package() {
        cd "$builddir/x86_64"
        make install prefix="$pkgdir"/usr
}
sha512sums="1b63c301931adf15bd2aee94f0b15984bbea0464a4782df2dd4d483b88c31ddf8b148b69a302de5fe364eb6246bdd75eed20bdf4f0f71d5a2b96a1c13a34b443  fast-0.0.8.tar.bz2"
